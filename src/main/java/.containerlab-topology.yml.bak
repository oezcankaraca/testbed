name: containerlab-topology
prefix: p2p

mgmt:
  network: fixedips
topology:
  nodes:
    lectureStudioServer:
      kind: linux
      image: image-testbed
      labels:
        role: sender
        group: server
      binds:
        - /home/ozcankaraca/Desktop/mydocument.pdf:/app/mydocument.pdf
      env:
        SOURCE_PEER: lectureStudioServer
        TARGET_PEERS: 1,2,3,4,5,6
        MAIN_CLASS: LectureStudioServer
      ports:
        - "8080:8080"

    1:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    2:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    3:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    4:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    5:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        SOURCE_PEER: 5
        TARGET_PEERS: 7
        MAIN_CLASS: SuperPeer
      labels:
        role: receiver/sender
        group: superpeer

    6:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: lectureStudioServer
        SOURCE_PEER: 6
        TARGET_PEERS: 8,9,10
        MAIN_CLASS: SuperPeer
      labels:
        role: receiver/sender
        group: superpeer

    7:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: 5
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    8:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: 6
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    9:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: 6
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

    10:
      kind: linux
      image: image-testbed
      env:
        SUPER_PEER: 6
        MAIN_CLASS: Peer
      labels:
        role: receiver
        group: peer

  links:
    - endpoints: [lectureStudioServer:eth1, 1:eth1]
    - endpoints: [lectureStudioServer:eth2, 2:eth1]
    - endpoints: [lectureStudioServer:eth3, 3:eth1]
    - endpoints: [lectureStudioServer:eth4, 4:eth1]
    - endpoints: [lectureStudioServer:eth5, 5:eth1]
    - endpoints: [lectureStudioServer:eth6, 6:eth1]
    - endpoints: [5:eth2, 7:eth1]
    - endpoints: [6:eth2, 8:eth1]
    - endpoints: [6:eth3, 9:eth1]
    - endpoints: [6:eth4, 10:eth1]
